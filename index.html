<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Magius - Sistema de Checklist de Inspe√ß√£o</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Estilos -->
  <link rel="stylesheet" href="style.css" />

  <!-- Chart.js (gr√°ficos) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
</head>
<body>
  <div class="layout">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-logo">
        <div class="logo-icon">M</div>
        <div class="logo-text">
          <div class="logo-main">MAGIUS</div>
          <div class="logo-sub">Checklist</div>
        </div>
      </div>

      <nav class="sidebar-menu">
        <button class="sidebar-item active" data-screen="screen-checklist">
          <span class="sidebar-icon">‚úÖ</span>
          <span class="sidebar-label">Checklist</span>
        </button>
        <button class="sidebar-item" data-screen="screen-inspectors">
          <span class="sidebar-icon">üë§</span>
          <span class="sidebar-label">Inspetores</span>
        </button>
        <button class="sidebar-item" data-screen="screen-pieces">
          <span class="sidebar-icon">üß©</span>
          <span class="sidebar-label">Pe√ßas & Itens</span>
        </button>
        <button class="sidebar-item" data-screen="screen-dashboard">
          <span class="sidebar-icon">üìä</span>
          <span class="sidebar-label">Dashboard</span>
        </button>
        <button class="sidebar-item" data-screen="screen-reports">
          <span class="sidebar-icon">üìë</span>
          <span class="sidebar-label">Relat√≥rios</span>
        </button>
      </nav>

      <div class="sidebar-footer">
        Ajudando a construir,<br />
        cultivar, transportar<br />
        e seguir em frente.
      </div>
    </aside>

    <!-- CONTE√öDO PRINCIPAL -->
    <main class="main">
      <header class="top-header">
        <div class="header-left">
          <div class="header-circles">
            <span></span><span></span><span></span><span></span>
          </div>
          <div class="header-tagline">
            AJUDANDO A CONSTRUIR, CULTIVAR,<br />
            TRANSPORTAR E SEGUIR EM FRENTE
          </div>
        </div>
        <div class="header-brand">
          <div class="header-logo">MAGIUS</div>
          <div class="header-sub">METAL√öRGICA INDUSTRIAL</div>
        </div>
      </header>

      <div class="main-content">
        <!-- TELA CHECKLIST -->
        <section id="screen-checklist" class="screen active">
          <div class="card">
            <h2 class="screen-title">Checklist de Inspe√ß√£o</h2>
            <div class="grid-2">
              <div class="form-group">
                <label for="insp-selector">Inspetor</label>
                <select id="insp-selector">
                  <option value="" disabled selected>Selecione o inspetor</option>
                </select>
              </div>
              <div class="form-group">
                <label for="piece-selector">Pe√ßa</label>
                <select id="piece-selector">
                  <option value="" disabled selected>Selecione a pe√ßa</option>
                </select>
              </div>
            </div>
            <button id="btn-start-checklist" class="btn-primary mt-16">
              Iniciar Checklist
            </button>
          </div>

          <div id="checklist-execution" class="card mt-16 hide">
            <div class="checklist-piece-header">
              <div>
                <div id="cl-piece-code" class="checklist-piece-code"></div>
                <div id="cl-piece-desc" class="checklist-piece-desc"></div>
              </div>
            </div>
            <div id="cl-piece-image-box" class="piece-image-box">
              [Imagem da pe√ßa]
            </div>

            <div id="checklist-item-list"></div>

            <div class="form-group mt-8">
              <label for="obs-text"
                >Observa√ß√µes (obrigat√≥rio se houver item N√ÉO OK)</label
              >
              <textarea id="obs-text" rows="3"></textarea>
            </div>

            <button id="btn-finish-checklist" class="btn-primary mt-16">
              Finalizar inspe√ß√£o
            </button>
          </div>
        </section>

        <!-- TELA INSPETORES -->
        <section id="screen-inspectors" class="screen">
          <div class="card">
            <h2 class="screen-title">Inspetores</h2>
            <div class="grid-2">
              <div class="form-group">
                <label for="insp-name-input">Nome do inspetor</label>
                <input
                  type="text"
                  id="insp-name-input"
                  placeholder="Ex: Jo√£o Silva"
                />
              </div>
              <div class="form-group">
                <label for="insp-photo-input">Foto (opcional)</label>
                <input type="file" id="insp-photo-input" accept="image/*" />
              </div>
            </div>
            <button id="btn-add-inspector" class="btn-primary mt-8">
              Adicionar inspetor
            </button>
          </div>

          <div class="card mt-16">
            <h3 class="card-title">Inspetores cadastrados</h3>
            <div id="inspectors-list" class="inspectors-grid"></div>
          </div>
        </section>

        <!-- TELA PE√áAS & ITENS -->
        <section id="screen-pieces" class="screen">
          <div class="card">
            <h2 class="screen-title">Pe√ßas</h2>
            <div class="grid-3">
              <div class="form-group">
                <label for="piece-code-input">C√≥digo da pe√ßa</label>
                <input
                  type="text"
                  id="piece-code-input"
                  placeholder="597-2445#01"
                />
              </div>
              <div class="form-group">
                <label for="piece-desc-input">Descri√ß√£o</label>
                <input
                  type="text"
                  id="piece-desc-input"
                  placeholder="Longarina"
                />
              </div>
              <div class="form-group">
                <label for="piece-image-input">Imagem (opcional)</label>
                <input type="file" id="piece-image-input" accept="image/*" />
              </div>
            </div>
            <button id="btn-add-piece" class="btn-primary mt-8">
              Adicionar pe√ßa
            </button>
          </div>

          <div class="grid-2 mt-16">
            <div class="card">
              <h3 class="card-title">Pe√ßas cadastradas</h3>
              <div id="pieces-list" class="pieces-list"></div>
            </div>

            <div class="card">
              <h3 class="card-title">Itens de checklist da pe√ßa</h3>
              <div class="form-group">
                <label for="piece-items-selector">Selecionar pe√ßa</label>
                <select id="piece-items-selector">
                  <option value="" disabled selected>Selecione a pe√ßa</option>
                </select>
              </div>

              <div id="piece-items-list"></div>

              <div class="divider mt-8 mb-8"></div>

              <div class="form-group">
                <label for="item-name-input">Nome do item</label>
                <input
                  type="text"
                  id="item-name-input"
                  placeholder="Dimens√£o A (√ò)"
                />
              </div>
              <div class="form-group">
                <label for="item-desc-input">Descri√ß√£o do item</label>
                <textarea
                  id="item-desc-input"
                  rows="2"
                  placeholder="Ex: Verificar di√¢metro da fura√ß√£o."
                ></textarea>
              </div>
              <div class="form-group">
                <label for="item-image-input">Imagem (opcional)</label>
                <input type="file" id="item-image-input" accept="image/*" />
              </div>
              <button id="btn-add-item" class="btn-primary mt-8">
                Adicionar item
              </button>
            </div>
          </div>
        </section>

        <!-- TELA DASHBOARD -->
        <section id="screen-dashboard" class="screen">
          <div class="card">
            <h2 class="screen-title">Dashboard</h2>
            <div class="kpi-grid">
              <div class="kpi-card">
                <div class="kpi-label">Inspe√ß√µes no m√™s</div>
                <div id="kpi-inspecoes-mes" class="kpi-value">0</div>
              </div>
              <div class="kpi-card">
                <div class="kpi-label">% Itens N√ÉO OK</div>
                <div id="kpi-percent-nok" class="kpi-value">0%</div>
              </div>
              <div class="kpi-card kpi-large">
                <div class="kpi-label">Pe√ßas com mais reprova√ß√µes</div>
                <div id="kpi-top-pecas" class="kpi-list"></div>
              </div>
            </div>
          </div>

          <div class="card mt-16">
            <h3 class="card-title">Status de itens (OK x N√ÉO OK)</h3>
            <div class="chart-wrapper">
              <canvas id="dashboard-chart"></canvas>
            </div>
          </div>
        </section>

        <!-- TELA RELAT√ìRIOS -->
        <section id="screen-reports" class="screen">
          <div class="card">
            <h2 class="screen-title">Relat√≥rios</h2>
            <div class="report-controls">
              <button id="btn-export-csv" class="btn-secondary">
                Exportar CSV
              </button>
              <div class="form-group small">
                <label for="report-month-select">M√™s</label>
                <select id="report-month-select"></select>
              </div>
              <div class="report-total">
                Total inspe√ß√µes: <span id="total-inspecoes">0</span>
              </div>
            </div>

            <div class="chart-wrapper">
              <canvas id="reports-chart"></canvas>
            </div>
          </div>

          <div class="card mt-16">
            <h3 class="card-title">Hist√≥rico de inspe√ß√µes</h3>
            <table class="history-table">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Inspetor</th>
                  <th>Pe√ßa</th>
                  <th>Descri√ß√£o</th>
                </tr>
              </thead>
              <tbody id="reports-history-body"></tbody>
            </table>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- SCRIPTS -->
  <script type="module" src="firebase.js"></script>
  <script src="app.js"></script>
</body>
</html>
